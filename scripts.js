!function(a){function b(a){this.game=a,this.map=this.createMap()}function c(a,b,c){var d,e,f;for(d=0;100>d&&(e=a.integerInRange(0,3),f=a.integerInRange(0,3),0!=b[e][f]);d++);b[e][f]=c}function d(a,b,d,e,f){var g=a.integerInRange(e,f),h=_.partial(c,a,b,d);_.times(g,h)}b.Constants={NEIGHBORHOOD:0,PARK:1,STRIP_MALL:2,OFFICES:3,HOSPITAL:4},b.preload=function(a){a.image("building-tiles","assets/building tiles rough.5f4545c0.png")},b.prototype={createMap:function(){var a=this.game.rnd,c=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],e=_.partial(d,a,c);return e(b.Constants.OFFICES,2,4),e(b.Constants.STRIP_MALL,2,4),e(b.Constants.PARK,1,2),e(b.Constants.HOSPITAL,1,1),c},createTileMap:function(){var a=this.game.add.tilemap();a.addTilesetImage("building-tiles",void 0,120,120);for(var b=(a.create("buildings",4,4,120,120),0);4>b;b++)for(var c=0;4>c;c++)a.putTile(this.map[b][c],b,c);return a}},a.Town=b}(this),function(a){function b(){}b.prototype={},a.TownScreen=b}(this),function(a){function b(){}b.prototype={preload:function(){this.load.image("loading-bar","assets/loading bar.84d69c42.png"),this.load.image("loading-bar-overlay","assets/loading bar overlay.85346d32.png")},create:function(){this.stage.backgroundColor="#000000",this.state.start("preload")}},a.Boot=b}(this),function(a){function b(){}b.prototype={preload:function(){var a=this.load,b=this.add,c=b.sprite(192,232,"loading-bar");b.sprite(192,232,"loading-bar-overlay"),a.setPreloadSprite(c),a.onLoadComplete.addOnce(this.onLoadComplete,this),Town.preload(a)},onLoadComplete:function(){this.state.start("game")}},a.Preload=b}(this),function(){function a(){}a.prototype={create:function(){{var a=(this.add,this.town=new Town(this.game));this.townMap=a.createTileMap()}}},this.Game=a}(this);var game=new Phaser.Game(640,480,Phaser.CANVAS,"game-container");game.state.add("boot",Boot),game.state.add("preload",Preload),game.state.add("game",Game),game.state.start("boot");